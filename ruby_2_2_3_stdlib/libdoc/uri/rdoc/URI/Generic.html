<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <!-- classpage -- >
    <!-- RD version: 0.33.0  -->
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
  <meta name='description' content='  Class : URI::Generic  -   Ruby 2_2_3 ' />
  <meta content="2015-10-03 10:50:11 -0500" http-equiv="change-date" />
  <!-- rel_prefix  = '..'  ENV['RDOC_FOR_WEBSITE']   = true-->
    
  <!-- rel_prefix = '..'   asset_rel_prefix = '..'  --> 
  <title>Class: URI::Generic (Ruby 2_2_3) </title>
  <!-- link rel="stylesheet" href="..css/obf.css"  -->
  <link rel="stylesheet" href="../css/inuit.css" >
  <link rel="stylesheet" href="../css/grid.inuit.css" >
  <link rel="stylesheet" href="../css/2011.css" type="text/css" >
  <link rel="stylesheet" href="../css/rdoc.css" type="text/css" >

  <script src="../js/jquery.js" type="text/javascript" charset="utf-8"></script>
  <script src="../js/thickbox-compressed.js" type="text/javascript" charset="utf-8"></script>
  <script src="../js/quicksearch.js" type="text/javascript" charset="utf-8"></script>
  <script src="../js/rubydoc.js" type="text/javascript" charset="utf-8"></script> 

 
<script src="../js/highlight.min.js"></script>
<script> 
  hljs.tabReplace = '  ';
  hljs.initHighlightingOnLoad();
  </script> 

  <style type='text/css'>

    #vulns-alert #vulns{
      background-color: #c33 ! important;
      width: 100%;
      text-align: center;
   }
   
   #vulns-alert #vulns a {
    color: #F99 ! important;
   }
 </style>

</head>

<body id="top" class="class rdocstar">
<div id='actionbar' >
<div class='wrapper'>
  <ul class='grids g0'>
	<li class='grid-2' ><a href='/' target='_top' >Home</a></li>
	<li class='grid-2' ><a href='/core' target='_top' >Core </a></li>
	<li class='grid-2' ><a href='/stdlib' target='_top' >Std-lib </a></li>

	 <!-- li class='grid-2' ><a href='/zems' target='_top' >Zems</a></li -->
   <li class='grid-2' ><a href='/downloads' target='_top' >Downloads</a></li>
	 <li class='grid-5 right' id='rd-action-search'><form id="searchbox_011815814100681837392:wnccv6st5qk" action="http://ruby-doc.com/search.html"><input type="hidden" name="cx" value="011815814100681837392:wnccv6st5qk" ><input  id='rd-search-input' name="q" type="text" size="20" >&#160;&#160;<input type="submit" name="sa" value="Search" ><input type="hidden" name="cof" value="FORID:9" ></form></li>
	</ul>
</div>
<span id='vulns-alert'></span>
<!-- VERSION HEADER for 2_2_3 NOT FOUND --></div> <!-- end action bar -->
 <div class='wrapper'>
  <div id="metadata">
    <div id="home-metadata">
      <div id="home-section" class="section">
        <h3 class="section-header">
          <a href="../index.html">Home</a>
          <a href="../index.html#classes">Classes</a>
          <a href="../index.html#methods">Methods</a>
          
        </h3>
      </div>
    </div>

    <div id="file-metadata">
      <div id="file-list-section" class="section">
        <h3 class="section-header">In Files</h3>
        <div class="section-body">
          <ul id='file-metadata'>

          
          
          
          <li class='in-file'>uri/generic.rb</li>      
            
          </ul>
        </div>
      </div>

      
    </div>

    <div id="class-metadata">
      
      <!-- Parent Class -->
      <div id="parent-class-section" class="section">
        <h3 class="section-header">Parent</h3>
        
        <p class="link">Object</p>
        
      </div>
      

      

      

      
      <!-- Method Quickref -->
      <div id="method-list-section" class="section">
        <h3 class="section-header">Methods</h3>
        <ul class="link-list">
          
          <li><a href="#method-c-build">::build</a></li>
          
          <li><a href="#method-c-build2">::build2</a></li>
          
          <li><a href="#method-c-component">::component</a></li>
          
          <li><a href="#method-c-default_port">::default_port</a></li>
          
          <li><a href="#method-c-new">::new</a></li>
          
          <li><a href="#method-i-2B">#+</a></li>
          
          <li><a href="#method-i-2D">#-</a></li>
          
          <li><a href="#method-i-3D-3D">#==</a></li>
          
          <li><a href="#method-i-absolute">#absolute</a></li>
          
          <li><a href="#method-i-absolute-3F">#absolute?</a></li>
          
          <li><a href="#method-i-coerce">#coerce</a></li>
          
          <li><a href="#method-i-component">#component</a></li>
          
          <li><a href="#method-i-component_ary">#component_ary</a></li>
          
          <li><a href="#method-i-default_port">#default_port</a></li>
          
          <li><a href="#method-i-eql-3F">#eql?</a></li>
          
          <li><a href="#method-i-find_proxy">#find_proxy</a></li>
          
          <li><a href="#method-i-fragment-3D">#fragment=</a></li>
          
          <li><a href="#method-i-hash">#hash</a></li>
          
          <li><a href="#method-i-hierarchical-3F">#hierarchical?</a></li>
          
          <li><a href="#method-i-host-3D">#host=</a></li>
          
          <li><a href="#method-i-hostname">#hostname</a></li>
          
          <li><a href="#method-i-hostname-3D">#hostname=</a></li>
          
          <li><a href="#method-i-inspect">#inspect</a></li>
          
          <li><a href="#method-i-merge">#merge</a></li>
          
          <li><a href="#method-i-merge-21">#merge!</a></li>
          
          <li><a href="#method-i-normalize">#normalize</a></li>
          
          <li><a href="#method-i-normalize-21">#normalize!</a></li>
          
          <li><a href="#method-i-opaque-3D">#opaque=</a></li>
          
          <li><a href="#method-i-parser">#parser</a></li>
          
          <li><a href="#method-i-password">#password</a></li>
          
          <li><a href="#method-i-password-3D">#password=</a></li>
          
          <li><a href="#method-i-path-3D">#path=</a></li>
          
          <li><a href="#method-i-port-3D">#port=</a></li>
          
          <li><a href="#method-i-query-3D">#query=</a></li>
          
          <li><a href="#method-i-registry-3D">#registry=</a></li>
          
          <li><a href="#method-i-relative-3F">#relative?</a></li>
          
          <li><a href="#method-i-route_from">#route_from</a></li>
          
          <li><a href="#method-i-route_to">#route_to</a></li>
          
          <li><a href="#method-i-scheme-3D">#scheme=</a></li>
          
          <li><a href="#method-i-select">#select</a></li>
          
          <li><a href="#method-i-set_host">#set_host</a></li>
          
          <li><a href="#method-i-set_opaque">#set_opaque</a></li>
          
          <li><a href="#method-i-set_password">#set_password</a></li>
          
          <li><a href="#method-i-set_path">#set_path</a></li>
          
          <li><a href="#method-i-set_port">#set_port</a></li>
          
          <li><a href="#method-i-set_scheme">#set_scheme</a></li>
          
          <li><a href="#method-i-set_user">#set_user</a></li>
          
          <li><a href="#method-i-set_userinfo">#set_userinfo</a></li>
          
          <li><a href="#method-i-to_s">#to_s</a></li>
          
          <li><a href="#method-i-user">#user</a></li>
          
          <li><a href="#method-i-user-3D">#user=</a></li>
          
          <li><a href="#method-i-userinfo">#userinfo</a></li>
          
          <li><a href="#method-i-userinfo-3D">#userinfo=</a></li>
          
        </ul>
      </div>
      

      
      <!-- Included Modules -->
      <div id="includes-section" class="section">
        <h3 class="section-header">Included Modules</h3>
        <ul class="link-list">
        
        
          <li><a class="include" href="../URI.html">URI</a></li>
        
        
        </ul>
      </div>
      
    </div>

    <div id="project-metadata">
      
      

      <div id="classindex-section" class="section project-section">
        <h3 class="section-header">Class/Module Index
          <span class="search-toggle"><img src="../images/find.png"
            height="16" width="16" alt="[+]"
            title="show/hide quicksearch" /></span></h3>
        <form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
        <fieldset>
          <legend>Quicksearch</legend>
          <input type="text" name="quicksearch" value=""
            class="quicksearch-field" />
        </fieldset>
        </form>

        <ul class="link-list">
          
          
          
          <li><a href="../Kernel.html">Kernel</a></li>
        
          
          
          <li><a href="../URI.html">URI</a></li>
        
          
          
          <li><a href="../URI/BadURIError.html">URI::BadURIError</a></li>
        
          
          
          <li><a href="../URI/Error.html">URI::Error</a></li>
        
          
          
          <li><a href="../URI/Escape.html">URI::Escape</a></li>
        
          
          
          <li><a href="../URI/FTP.html">URI::FTP</a></li>
        
          
          
          <li><a href="../URI/Generic.html">URI::Generic</a></li>
        
          
          
          <li><a href="../URI/HTTP.html">URI::HTTP</a></li>
        
          
          
          <li><a href="../URI/HTTPS.html">URI::HTTPS</a></li>
        
          
          
          <li><a href="../URI/InvalidComponentError.html">URI::InvalidComponentError</a></li>
        
          
          
          <li><a href="../URI/InvalidURIError.html">URI::InvalidURIError</a></li>
        
          
          
          <li><a href="../URI/LDAP.html">URI::LDAP</a></li>
        
          
          
          <li><a href="../URI/LDAPS.html">URI::LDAPS</a></li>
        
          
          
          <li><a href="../URI/MailTo.html">URI::MailTo</a></li>
        
          
          
          <li><a href="../URI/REGEXP.html">URI::REGEXP</a></li>
        
          
          
          <li><a href="../URI/RFC2396_Parser.html">URI::RFC2396_Parser</a></li>
        
          
          
          <li><a href="../URI/RFC2396_REGEXP.html">URI::RFC2396_REGEXP</a></li>
        
          
          
          <li><a href="../URI/RFC2396_REGEXP/PATTERN.html">URI::RFC2396_REGEXP::PATTERN</a></li>
        
        </ul>
        <div id="no-class-search-results" style="display: none;">No matching classes.</div>
      </div>

      
    </div>
  </div> <!-- metadata -->
  <div class='adzbox'  id="azk83167">
    
   <div id="carbonads-container"><div class="carbonad"><div id="azcarbon"></div><script type="text/javascript">var z = document.createElement("script"); z.type = "text/javascript"; z.async = true; z.src = "http://engine.carbonads.com/z/19647/azcarbon_2_1_0_VERT"; var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(z, s);</script></div></div>
<script type="text/javascript">
  function checkCarbs() {
    var searchFor = ".car" + "bona" + "d-tag";
    var ctext = $(searchFor);
    if (!ctext.length ) {
     // alert("Cannot find element with class " + searchFor );
      $("#azcarbon").append("<div class='rd-ab-msg'>If you are running an ad blocker please consider white-listing ruby-doc.org. <br><br>Thank you.</div>");
    }
  }
//  window.setTimeout(checkCarbs,3000); 
</script>

   
  </div> 
  <div id="documentation">
    <h1 class="class">URI::Generic</h1>

    <div id="description" class="description">
      
<p>Base class for all <a href="../URI.html">URI</a> classes. Implements
generic <a href="../URI.html">URI</a> syntax as per RFC 2396.</p>

    </div><!-- description -->

    
    
    
    <div id="5Buntitled-5D" class="documentation-section">
      

      

      
      <!-- Constants -->
      <div id="constants-list" class="section">
        <h3 class="section-header">Constants</h3>
        <dl>
        
          <dt><a name="COMPONENT">COMPONENT</a></dt>
          
          <dd class="description"><p>An Array of the available components for <a
href="Generic.html">URI::Generic</a></p></dd>
          
        
          <dt><a name="DEFAULT_PORT">DEFAULT_PORT</a></dt>
          
          <dd class="description"><p>A Default port of nil for <a href="Generic.html">URI::Generic</a></p></dd>
          
        
        </dl>
      </div>
      

      
      <!-- Attributes -->
      <div id="attribute-method-details" class="method-section section">
        <h3 class="section-header">Attributes</h3>

        
        <div id="fragment-attribute-method" class="method-detail">
          <a name="fragment"></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">fragment</span><span
              class="attribute-access-type">[R]</span>
          </div>

          <div class="method-description 245">
          
          <p>returns the fragment component of the <a href="../URI.html">URI</a>.</p>

<pre class="ruby"><span class="ruby-constant">URI</span>(<span class="ruby-node">&quot;http://foo/bar/baz?search=FooBar#ponies&quot;</span>).<span class="ruby-identifier">fragment</span> <span class="ruby-comment">#=&gt; &quot;ponies&quot;</span>
</pre>
          
          </div>
        </div>
        
        <div id="host-attribute-method" class="method-detail">
          <a name="host"></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">host</span><span
              class="attribute-access-type">[R]</span>
          </div>

          <div class="method-description 245">
          
          <p>returns the host component of the <a href="../URI.html">URI</a>.</p>

<pre class="ruby"><span class="ruby-constant">URI</span>(<span class="ruby-string">&quot;http://foo/bar/baz&quot;</span>).<span class="ruby-identifier">host</span> <span class="ruby-comment">#=&gt; &quot;foo&quot;</span>
</pre>

<p>It returns nil if no host component.</p>

<pre class="ruby"><span class="ruby-constant">URI</span>(<span class="ruby-string">&quot;mailto:foo@example.org&quot;</span>).<span class="ruby-identifier">host</span> <span class="ruby-comment">#=&gt; nil</span>
</pre>

<p>The component doesn’t contains the port number.</p>

<pre class="ruby"><span class="ruby-constant">URI</span>(<span class="ruby-string">&quot;http://foo:8080/bar/baz&quot;</span>).<span class="ruby-identifier">host</span> <span class="ruby-comment">#=&gt; &quot;foo&quot;</span>
</pre>

<p>Since IPv6 addresses are wrapped by brackets in URIs, this method returns
IPv6 addresses wrapped by brackets. This form is not appropriate to pass
socket methods such as TCPSocket.open. If unwrapped host names are
required, use “hostname” method.</p>

<pre class="ruby"><span class="ruby-constant">URI</span>(<span class="ruby-string">&quot;http://[::1]/bar/baz&quot;</span>).<span class="ruby-identifier">host</span> <span class="ruby-comment">#=&gt; &quot;[::1]&quot;</span>
<span class="ruby-constant">URI</span>(<span class="ruby-string">&quot;http://[::1]/bar/baz&quot;</span>).<span class="ruby-identifier">hostname</span> <span class="ruby-comment">#=&gt; &quot;::1&quot;</span>
</pre>
          
          </div>
        </div>
        
        <div id="opaque-attribute-method" class="method-detail">
          <a name="opaque"></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">opaque</span><span
              class="attribute-access-type">[R]</span>
          </div>

          <div class="method-description 245">
          
          <p>returns the opaque part of the <a href="../URI.html">URI</a>.</p>

<pre class="ruby"><span class="ruby-constant">URI</span>(<span class="ruby-string">&quot;mailto:foo@example.org&quot;</span>).<span class="ruby-identifier">opaque</span> <span class="ruby-comment">#=&gt; &quot;foo@example.org&quot;</span>
</pre>

<p>Portion of the path that does make use of the slash ‘/’. The path typically
refers to the absolute path and the opaque part.</p>

<pre class="ruby">(<span class="ruby-identifier">see</span> <span class="ruby-constant">RFC2396</span> <span class="ruby-constant">Section</span> <span class="ruby-value">3</span> <span class="ruby-keyword">and</span> <span class="ruby-value">5.2</span>)
</pre>
          
          </div>
        </div>
        
        <div id="path-attribute-method" class="method-detail">
          <a name="path"></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">path</span><span
              class="attribute-access-type">[R]</span>
          </div>

          <div class="method-description 245">
          
          <p>returns the path component of the <a href="../URI.html">URI</a>.</p>

<pre class="ruby"><span class="ruby-constant">URI</span>(<span class="ruby-string">&quot;http://foo/bar/baz&quot;</span>).<span class="ruby-identifier">path</span> <span class="ruby-comment">#=&gt; &quot;/bar/baz&quot;</span>
</pre>
          
          </div>
        </div>
        
        <div id="port-attribute-method" class="method-detail">
          <a name="port"></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">port</span><span
              class="attribute-access-type">[R]</span>
          </div>

          <div class="method-description 245">
          
          <p>returns the port component of the <a href="../URI.html">URI</a>.</p>

<pre class="ruby"><span class="ruby-constant">URI</span>(<span class="ruby-string">&quot;http://foo/bar/baz&quot;</span>).<span class="ruby-identifier">port</span> <span class="ruby-comment">#=&gt; &quot;80&quot;</span>

<span class="ruby-constant">URI</span>(<span class="ruby-string">&quot;http://foo:8080/bar/baz&quot;</span>).<span class="ruby-identifier">port</span> <span class="ruby-comment">#=&gt; &quot;8080&quot;</span>
</pre>
          
          </div>
        </div>
        
        <div id="query-attribute-method" class="method-detail">
          <a name="query"></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">query</span><span
              class="attribute-access-type">[R]</span>
          </div>

          <div class="method-description 245">
          
          <p>returns the query component of the <a href="../URI.html">URI</a>.</p>

<pre class="ruby"><span class="ruby-constant">URI</span>(<span class="ruby-string">&quot;http://foo/bar/baz?search=FooBar&quot;</span>).<span class="ruby-identifier">query</span> <span class="ruby-comment">#=&gt; &quot;search=FooBar&quot;</span>
</pre>
          
          </div>
        </div>
        
        <div id="scheme-attribute-method" class="method-detail">
          <a name="scheme"></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">scheme</span><span
              class="attribute-access-type">[R]</span>
          </div>

          <div class="method-description 245">
          
          <p>returns the scheme component of the <a href="../URI.html">URI</a>.</p>

<pre class="ruby"><span class="ruby-constant">URI</span>(<span class="ruby-string">&quot;http://foo/bar/baz&quot;</span>).<span class="ruby-identifier">scheme</span> <span class="ruby-comment">#=&gt; &quot;http&quot;</span>
</pre>
          
          </div>
        </div>
        
      </div><!-- attribute-method-details -->
      

      <!-- Methods -->
      
      <div id="public-class-method-details" class="method-section section">
        <h3 class="section-header">Public Class Methods</h3>

      
        <div id="build-method" class="method-detail ">
          <a name="method-c-build"></a>

          
          <div class="method-heading">
            <span class="method-name">build</span><span
              class="method-args">(args)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <h2 id="method-c-build-label-Synopsis">Synopsis<span><a href="#method-c-build-label-Synopsis">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>See new</p>

<h2 id="method-c-build-label-Description">Description<span><a href="#method-c-build-label-Description">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Creates a new <a href="Generic.html">URI::Generic</a> instance from
components of <a href="Generic.html">URI::Generic</a> with check. 
Components are: scheme, userinfo, host, port, registry, path, opaque, query
and fragment. You can provide arguments either by an Array or a Hash. See
new for hash keys to use or for order of array items.</p>
            

            
            <div class="method-source-code" id="build-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 114</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">build</span>(<span class="ruby-identifier">args</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Array</span>) <span class="ruby-operator">&amp;&amp;</span>
      <span class="ruby-identifier">args</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-operator">::</span><span class="ruby-constant">URI</span><span class="ruby-operator">::</span><span class="ruby-constant">Generic</span><span class="ruby-operator">::</span><span class="ruby-constant">COMPONENT</span>.<span class="ruby-identifier">size</span>
    <span class="ruby-identifier">tmp</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">dup</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Hash</span>)
    <span class="ruby-identifier">tmp</span> = <span class="ruby-operator">::</span><span class="ruby-constant">URI</span><span class="ruby-operator">::</span><span class="ruby-constant">Generic</span><span class="ruby-operator">::</span><span class="ruby-constant">COMPONENT</span>.<span class="ruby-identifier">collect</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">c</span>)
        <span class="ruby-identifier">args</span>[<span class="ruby-identifier">c</span>]
      <span class="ruby-keyword">else</span>
        <span class="ruby-keyword">nil</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">component</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">component</span> <span class="ruby-keyword">rescue</span> <span class="ruby-operator">::</span><span class="ruby-constant">URI</span><span class="ruby-operator">::</span><span class="ruby-constant">Generic</span><span class="ruby-operator">::</span><span class="ruby-constant">COMPONENT</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>,
    <span class="ruby-node">&quot;expected Array of or Hash of components of #{self.class} (#{component.join(', ')})&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">tmp</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">tmp</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">new</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">tmp</span>)
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- build-source -->
            
          </div>

          

          
        </div><!-- build-method -->
      
        <div id="build2-method" class="method-detail ">
          <a name="method-c-build2"></a>

          
          <div class="method-heading">
            <span class="method-name">build2</span><span
              class="method-args">(args)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <h2 id="method-c-build2-label-Synopsis">Synopsis<span><a href="#method-c-build2-label-Synopsis">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>See new</p>

<h2 id="method-c-build2-label-Description">Description<span><a href="#method-c-build2-label-Description">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>At first, tries to create a new <a href="Generic.html">URI::Generic</a>
instance using <a href="Generic.html#method-c-build">::build</a>. But, if
exception <a
href="InvalidComponentError.html">URI::InvalidComponentError</a> is raised,
then it <a href="Escape.html#method-i-escape">URI::Escape#escape</a> all <a
href="../URI.html">URI</a> components and tries again.</p>
            

            
            <div class="method-source-code" id="build2-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 76</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">build2</span>(<span class="ruby-identifier">args</span>)
  <span class="ruby-keyword">begin</span>
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">build</span>(<span class="ruby-identifier">args</span>)
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">InvalidComponentError</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Array</span>)
      <span class="ruby-keyword">return</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">build</span>(<span class="ruby-identifier">args</span>.<span class="ruby-identifier">collect</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span>
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>)
          <span class="ruby-constant">DEFAULT_PARSER</span>.<span class="ruby-identifier">escape</span>(<span class="ruby-identifier">x</span>)
        <span class="ruby-keyword">else</span>
          <span class="ruby-identifier">x</span>
        <span class="ruby-keyword">end</span>
      })
    <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Hash</span>)
      <span class="ruby-identifier">tmp</span> = {}
      <span class="ruby-identifier">args</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">tmp</span>[<span class="ruby-identifier">key</span>] = <span class="ruby-keyword">if</span> <span class="ruby-identifier">value</span>
            <span class="ruby-constant">DEFAULT_PARSER</span>.<span class="ruby-identifier">escape</span>(<span class="ruby-identifier">value</span>)
          <span class="ruby-keyword">else</span>
            <span class="ruby-identifier">value</span>
          <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">return</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">build</span>(<span class="ruby-identifier">tmp</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- build2-source -->
            
          </div>

          

          
        </div><!-- build2-method -->
      
        <div id="component-method" class="method-detail ">
          <a name="method-c-component"></a>

          
          <div class="method-heading">
            <span class="method-name">component</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Components of the <a href="../URI.html">URI</a> in the order.</p>
            

            
            <div class="method-source-code" id="component-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 54</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">component</span>
  <span class="ruby-keyword">self</span><span class="ruby-operator">::</span><span class="ruby-constant">COMPONENT</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- component-source -->
            
          </div>

          

          
        </div><!-- component-method -->
      
        <div id="default_port-method" class="method-detail ">
          <a name="method-c-default_port"></a>

          
          <div class="method-heading">
            <span class="method-name">default_port</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Returns default port</p>
            

            
            <div class="method-source-code" id="default_port-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 29</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">default_port</span>
  <span class="ruby-keyword">self</span><span class="ruby-operator">::</span><span class="ruby-constant">DEFAULT_PORT</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- default_port-source -->
            
          </div>

          

          
        </div><!-- default_port-method -->
      
        <div id="new-method" class="method-detail ">
          <a name="method-c-new"></a>

          
          <div class="method-heading">
            <span class="method-name">new</span><span
              class="method-args">(scheme, userinfo, host, port, registry, path, opaque, query, fragment, parser = DEFAULT_PARSER, arg_check = false)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <h2 id="method-c-new-label-Args">Args<span><a href="#method-c-new-label-Args">&para;</a> <a href="#top">&uarr;</a></span></h2>
<dl class="rdoc-list note-list"><dt><code>scheme</code>
<dd>
<p>Protocol scheme, i.e. ‘http’,‘ftp’,‘mailto’ and so on.</p>
</dd><dt><code>userinfo</code>
<dd>
<p>User name and password, i.e. ‘sdmitry:bla’</p>
</dd><dt><code>host</code>
<dd>
<p>Server host name</p>
</dd><dt><code>port</code>
<dd>
<p>Server port</p>
</dd><dt><code>registry</code>
<dd>
<p>Registry of naming authorities.</p>
</dd><dt><code>path</code>
<dd>
<p>Path on server</p>
</dd><dt><code>opaque</code>
<dd>
<p>Opaque part</p>
</dd><dt><code>query</code>
<dd>
<p>Query data</p>
</dd><dt><code>fragment</code>
<dd>
<p>A part of <a href="../URI.html">URI</a> after ‘#’ sign</p>
</dd><dt><code>parser</code>
<dd>
<p>Parser for internal use [URI::DEFAULT_PARSER by default]</p>
</dd><dt><code>arg_check</code>
<dd>
<p>Check arguments [false by default]</p>
</dd></dl>

<h2 id="method-c-new-label-Description">Description<span><a href="#method-c-new-label-Description">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Creates a new <a href="Generic.html">URI::Generic</a> instance from
“generic” components without check.</p>
            

            
            <div class="method-source-code" id="new-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 166</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">scheme</span>,
               <span class="ruby-identifier">userinfo</span>, <span class="ruby-identifier">host</span>, <span class="ruby-identifier">port</span>, <span class="ruby-identifier">registry</span>,
               <span class="ruby-identifier">path</span>, <span class="ruby-identifier">opaque</span>,
               <span class="ruby-identifier">query</span>,
               <span class="ruby-identifier">fragment</span>,
               <span class="ruby-identifier">parser</span> = <span class="ruby-constant">DEFAULT_PARSER</span>,
               <span class="ruby-identifier">arg_check</span> = <span class="ruby-keyword">false</span>)
  <span class="ruby-ivar">@scheme</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@user</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@password</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@host</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@port</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@path</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@query</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@opaque</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@fragment</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@parser</span> = <span class="ruby-identifier">parser</span> <span class="ruby-operator">==</span> <span class="ruby-constant">DEFAULT_PARSER</span> <span class="ruby-operator">?</span> <span class="ruby-keyword">nil</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">parser</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">arg_check</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">scheme</span> = <span class="ruby-identifier">scheme</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">userinfo</span> = <span class="ruby-identifier">userinfo</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">hostname</span> = <span class="ruby-identifier">host</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">port</span> = <span class="ruby-identifier">port</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">path</span> = <span class="ruby-identifier">path</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">query</span> = <span class="ruby-identifier">query</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">opaque</span> = <span class="ruby-identifier">opaque</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">fragment</span> = <span class="ruby-identifier">fragment</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">set_scheme</span>(<span class="ruby-identifier">scheme</span>)
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">set_userinfo</span>(<span class="ruby-identifier">userinfo</span>)
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">set_host</span>(<span class="ruby-identifier">host</span>)
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">set_port</span>(<span class="ruby-identifier">port</span>)
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">set_path</span>(<span class="ruby-identifier">path</span>)
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">query</span> = <span class="ruby-identifier">query</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">set_opaque</span>(<span class="ruby-identifier">opaque</span>)
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">fragment</span>=(<span class="ruby-identifier">fragment</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">registry</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidURIError</span>,
      <span class="ruby-node">&quot;the scheme #{@scheme} does not accept registry part: #{registry} (or bad hostname?)&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-ivar">@scheme</span>.<span class="ruby-identifier">freeze</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@scheme</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">set_path</span>(<span class="ruby-string">''</span>) <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@path</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@opaque</span> <span class="ruby-comment"># (see RFC2396 Section 5.2)</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">set_port</span>(<span class="ruby-keyword">self</span>.<span class="ruby-identifier">default_port</span>) <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">default_port</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@port</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- new-source -->
            
          </div>

          

          
        </div><!-- new-method -->
      
      </div><!-- public-class-method-details -->
    
      <div id="public-instance-method-details" class="method-section section">
        <h3 class="section-header">Public Instance Methods</h3>

      
        <div id="2B-method" class="method-detail method-alias">
          <a name="method-i-2B"></a>

          
          <div class="method-heading">
            <span class="method-name">+</span><span
              class="method-args">(oth)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            
            

            
          </div>

          

          
          <div class="aliases">
            Alias for: <a href="Generic.html#method-i-merge">merge</a>
          </div>
          
        </div><!-- 2B-method -->
      
        <div id="2D-method" class="method-detail method-alias">
          <a name="method-i-2D"></a>

          
          <div class="method-heading">
            <span class="method-name">-</span><span
              class="method-args">(oth)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            
            

            
          </div>

          

          
          <div class="aliases">
            Alias for: <a href="Generic.html#method-i-route_from">route_from</a>
          </div>
          
        </div><!-- 2D-method -->
      
        <div id="3D-3D-method" class="method-detail ">
          <a name="method-i-3D-3D"></a>

          
          <div class="method-heading">
            <span class="method-name">==</span><span
              class="method-args">(oth)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Compares to URI’s</p>
            

            
            <div class="method-source-code" id="3D-3D-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 1381</span>
<span class="ruby-keyword">def</span> <span class="ruby-operator">==</span>(<span class="ruby-identifier">oth</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">oth</span>.<span class="ruby-identifier">class</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">normalize</span>.<span class="ruby-identifier">component_ary</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">oth</span>.<span class="ruby-identifier">normalize</span>.<span class="ruby-identifier">component_ary</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- 3D-3D-source -->
            
          </div>

          

          
        </div><!-- 3D-3D-method -->
      
        <div id="absolute-method" class="method-detail method-alias">
          <a name="method-i-absolute"></a>

          
          <div class="method-heading">
            <span class="method-name">absolute</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            
            

            
          </div>

          

          
          <div class="aliases">
            Alias for: <a href="Generic.html#method-i-absolute-3F">absolute?</a>
          </div>
          
        </div><!-- absolute-method -->
      
        <div id="absolute-3F-method" class="method-detail ">
          <a name="method-i-absolute-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">absolute?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Checks if <a href="../URI.html">URI</a> is an absolute one</p>
            

            
            <div class="method-source-code" id="absolute-3F-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 958</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">absolute?</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@scheme</span>
    <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- absolute-3F-source -->
            
          </div>

          
          <div class="aliases">
            Also aliased as: <a href="Generic.html#method-i-absolute">absolute</a>
          </div>
          

          
        </div><!-- absolute-3F-method -->
      
        <div id="coerce-method" class="method-detail ">
          <a name="method-i-coerce"></a>

          
          <div class="method-heading">
            <span class="method-name">coerce</span><span
              class="method-args">(oth)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <h2 id="method-i-coerce-label-Args">Args<span><a href="#method-i-coerce-label-Args">&para;</a> <a href="#top">&uarr;</a></span></h2>
<dl class="rdoc-list note-list"><dt><code>v</code>
<dd>
<p><a href="../URI.html">URI</a> or String</p>
</dd></dl>

<h2 id="method-i-coerce-label-Description">Description<span><a href="#method-i-coerce-label-Description">&para;</a> <a href="#top">&uarr;</a></span></h2>

<pre>attempt to parse other URI +oth+
return [parsed_oth, self]</pre>

<h2 id="method-i-coerce-label-Usage">Usage<span><a href="#method-i-coerce-label-Usage">&para;</a> <a href="#top">&uarr;</a></span></h2>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">'uri'</span>

<span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">&quot;http://my.example.com&quot;</span>)
<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">coerce</span>(<span class="ruby-string">&quot;http://foo.com&quot;</span>)
<span class="ruby-comment">#=&gt; [#&lt;URI::HTTP:0x00000000bcb028 URL:http://foo.com/&gt;, #&lt;URI::HTTP:0x00000000d92178 URL:http://my.example.com&gt;]</span>
</pre>
            

            
            <div class="method-source-code" id="coerce-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 1471</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">coerce</span>(<span class="ruby-identifier">oth</span>)
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">oth</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">String</span>
    <span class="ruby-identifier">oth</span> = <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">oth</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">super</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">return</span> <span class="ruby-identifier">oth</span>, <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- coerce-source -->
            
          </div>

          

          
        </div><!-- coerce-method -->
      
        <div id="component-method" class="method-detail ">
          <a name="method-i-component"></a>

          
          <div class="method-heading">
            <span class="method-name">component</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Components of the <a href="../URI.html">URI</a> in the order.</p>
            

            
            <div class="method-source-code" id="component-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 309</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">component</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">component</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- component-source -->
            
          </div>

          

          
        </div><!-- component-method -->
      
        <div id="default_port-method" class="method-detail ">
          <a name="method-i-default_port"></a>

          
          <div class="method-heading">
            <span class="method-name">default_port</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Returns default port</p>
            

            
            <div class="method-source-code" id="default_port-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 36</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">default_port</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">default_port</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- default_port-source -->
            
          </div>

          

          
        </div><!-- default_port-method -->
      
        <div id="eql-3F-method" class="method-detail ">
          <a name="method-i-eql-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">eql?</span><span
              class="method-args">(oth)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            
            

            
            <div class="method-source-code" id="eql-3F-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 1393</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">eql?</span>(<span class="ruby-identifier">oth</span>)
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">oth</span>.<span class="ruby-identifier">class</span> <span class="ruby-operator">&amp;&amp;</span>
  <span class="ruby-identifier">parser</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">oth</span>.<span class="ruby-identifier">parser</span> <span class="ruby-operator">&amp;&amp;</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">component_ary</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-identifier">oth</span>.<span class="ruby-identifier">component_ary</span>)
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- eql-3F-source -->
            
          </div>

          

          
        </div><!-- eql-3F-method -->
      
        <div id="find_proxy-method" class="method-detail ">
          <a name="method-i-find_proxy"></a>

          
          <div class="method-heading">
            <span class="method-name">find_proxy</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>returns a proxy <a href="../URI.html">URI</a>. The proxy <a
href="../URI.html">URI</a> is obtained from environment variables such as
http_proxy, ftp_proxy, no_proxy, etc. If there is no proper proxy, nil is
returned.</p>

<p>Note that capitalized variables (HTTP_PROXY, FTP_PROXY, NO_PROXY, etc.) are
examined too.</p>

<p>But http_proxy and HTTP_PROXY is treated specially under CGI environment.
It’s because HTTP_PROXY may be set by Proxy: header. So HTTP_PROXY is not
used. http_proxy is not used too if the variable is case insensitive.
CGI_HTTP_PROXY can be used instead.</p>
            

            
            <div class="method-source-code" id="find_proxy-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 1495</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">find_proxy</span>
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">BadURIError</span>, <span class="ruby-node">&quot;relative URI: #{self}&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">relative?</span>
  <span class="ruby-identifier">name</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">scheme</span>.<span class="ruby-identifier">downcase</span> <span class="ruby-operator">+</span> <span class="ruby-string">'_proxy'</span>
  <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-string">'http_proxy'</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">ENV</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">'REQUEST_METHOD'</span>) <span class="ruby-comment"># CGI?</span>
    <span class="ruby-comment"># HTTP_PROXY conflicts with *_proxy for proxy settings and</span>
    <span class="ruby-comment"># HTTP_* for header information in CGI.</span>
    <span class="ruby-comment"># So it should be careful to use it.</span>
    <span class="ruby-identifier">pairs</span> = <span class="ruby-constant">ENV</span>.<span class="ruby-identifier">reject</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-regexp">/\Ahttp_proxy\z/i</span> <span class="ruby-operator">!~</span> <span class="ruby-identifier">k</span> }
    <span class="ruby-keyword">case</span> <span class="ruby-identifier">pairs</span>.<span class="ruby-identifier">length</span>
    <span class="ruby-keyword">when</span> <span class="ruby-value">0</span> <span class="ruby-comment"># no proxy setting anyway.</span>
      <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-keyword">nil</span>
    <span class="ruby-keyword">when</span> <span class="ruby-value">1</span>
      <span class="ruby-identifier">k</span>, <span class="ruby-identifier">_</span> = <span class="ruby-identifier">pairs</span>.<span class="ruby-identifier">shift</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">k</span> <span class="ruby-operator">==</span> <span class="ruby-string">'http_proxy'</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">ENV</span>[<span class="ruby-identifier">k</span>.<span class="ruby-identifier">upcase</span>] <span class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
        <span class="ruby-comment"># http_proxy is safe to use because ENV is case sensitive.</span>
        <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-constant">ENV</span>[<span class="ruby-identifier">name</span>]
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-keyword">nil</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">else</span> <span class="ruby-comment"># http_proxy is safe to use because ENV is case sensitive.</span>
      <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-constant">ENV</span>.<span class="ruby-identifier">to_hash</span>[<span class="ruby-identifier">name</span>]
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">proxy_uri</span>
      <span class="ruby-comment"># Use CGI_HTTP_PROXY.  cf. libwww-perl.</span>
      <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-constant">ENV</span>[<span class="ruby-node">&quot;CGI_#{name.upcase}&quot;</span>]
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-string">'http_proxy'</span>
    <span class="ruby-keyword">unless</span> <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-constant">ENV</span>[<span class="ruby-identifier">name</span>]
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-constant">ENV</span>[<span class="ruby-identifier">name</span>.<span class="ruby-identifier">upcase</span>]
        <span class="ruby-identifier">warn</span> <span class="ruby-string">'The environment variable HTTP_PROXY is discouraged.  Use http_proxy.'</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-constant">ENV</span>[<span class="ruby-identifier">name</span>] <span class="ruby-operator">||</span> <span class="ruby-constant">ENV</span>[<span class="ruby-identifier">name</span>.<span class="ruby-identifier">upcase</span>]
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">proxy_uri</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">proxy_uri</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">hostname</span>
    <span class="ruby-identifier">require</span> <span class="ruby-string">'socket'</span>
    <span class="ruby-keyword">begin</span>
      <span class="ruby-identifier">addr</span> = <span class="ruby-constant">IPSocket</span>.<span class="ruby-identifier">getaddress</span>(<span class="ruby-keyword">self</span>.<span class="ruby-identifier">hostname</span>)
      <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span> <span class="ruby-keyword">if</span> <span class="ruby-regexp">/\A127\.|\A::1\z/</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">addr</span>
    <span class="ruby-keyword">rescue</span> <span class="ruby-constant">SocketError</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">name</span> = <span class="ruby-string">'no_proxy'</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">no_proxy</span> = <span class="ruby-constant">ENV</span>[<span class="ruby-identifier">name</span>] <span class="ruby-operator">||</span> <span class="ruby-constant">ENV</span>[<span class="ruby-identifier">name</span>.<span class="ruby-identifier">upcase</span>]
    <span class="ruby-identifier">no_proxy</span>.<span class="ruby-identifier">scan</span>(<span class="ruby-regexp">/([^:,]*)(?::(\d+))?/</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">host</span>, <span class="ruby-identifier">port</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">if</span> <span class="ruby-node">/(\A|\.)#{Regexp.quote host}\z/i</span> <span class="ruby-operator">=~</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">host</span> <span class="ruby-operator">&amp;&amp;</span>
        (<span class="ruby-operator">!</span><span class="ruby-identifier">port</span> <span class="ruby-operator">||</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">port</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">port</span>.<span class="ruby-identifier">to_i</span>)
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span>
      <span class="ruby-keyword">end</span>
    }
  <span class="ruby-keyword">end</span>
  <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">proxy_uri</span>)
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- find_proxy-source -->
            
          </div>

          

          
        </div><!-- find_proxy-method -->
      
        <div id="fragment-3D-method" class="method-detail ">
          <a name="method-i-fragment-3D"></a>

          
          <div class="method-heading">
            <span class="method-name">fragment=</span><span
              class="method-args">(v)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>check the fragment <code>v</code> component against the URI::Parser Regexp
for :FRAGMENT</p>

<h2 id="method-i-fragment-3D-label-Args">Args<span><a href="#method-i-fragment-3D-label-Args">&para;</a> <a href="#top">&uarr;</a></span></h2>
<dl class="rdoc-list note-list"><dt><code>v</code>
<dd>
<p>String</p>
</dd></dl>

<h2 id="method-i-fragment-3D-label-Description">Description<span><a href="#method-i-fragment-3D-label-Description">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>public setter for the fragment component <code>v</code>. (with validation)</p>

<h2 id="method-i-fragment-3D-label-Usage">Usage<span><a href="#method-i-fragment-3D-label-Usage">&para;</a> <a href="#top">&uarr;</a></span></h2>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">'uri'</span>

<span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-node">&quot;http://my.example.com/?id=25#time=1305212049&quot;</span>)
<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">fragment</span> = <span class="ruby-string">&quot;time=1305212086&quot;</span>
<span class="ruby-comment"># =&gt;  &quot;time=1305212086&quot;</span>
<span class="ruby-identifier">uri</span>
<span class="ruby-comment">#=&gt; #&lt;URI::HTTP:0x000000007a81f8 URL:http://my.example.com/?id=25#time=1305212086&gt;</span>
</pre>
            

            
            <div class="method-source-code" id="fragment-3D-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 931</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">fragment=</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-ivar">@fragment</span> = <span class="ruby-keyword">nil</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">v</span>

  <span class="ruby-identifier">x</span> = <span class="ruby-identifier">v</span>.<span class="ruby-identifier">to_str</span>
  <span class="ruby-identifier">v</span> = <span class="ruby-identifier">x</span>.<span class="ruby-identifier">dup</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">equal?</span> <span class="ruby-identifier">v</span>
  <span class="ruby-identifier">v</span>.<span class="ruby-identifier">encode!</span>(<span class="ruby-constant">Encoding</span><span class="ruby-operator">::</span><span class="ruby-constant">UTF_8</span>) <span class="ruby-keyword">rescue</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">v</span>.<span class="ruby-identifier">delete!</span>(<span class="ruby-string">&quot;\t\r\n&quot;</span>.<span class="ruby-identifier">freeze</span>)
  <span class="ruby-identifier">v</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-constant">Encoding</span><span class="ruby-operator">::</span><span class="ruby-constant">ASCII_8BIT</span>)
  <span class="ruby-identifier">v</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-regexp">/(?!%\h\h|[!-~])./n</span>){<span class="ruby-string">'%%%02X'</span>.<span class="ruby-identifier">freeze</span> <span class="ruby-operator">%</span> <span class="ruby-node">$&amp;</span>.<span class="ruby-identifier">ord</span>}
  <span class="ruby-identifier">v</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-constant">Encoding</span><span class="ruby-operator">::</span><span class="ruby-constant">US_ASCII</span>)
  <span class="ruby-ivar">@fragment</span> = <span class="ruby-identifier">v</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- fragment-3D-source -->
            
          </div>

          

          
        </div><!-- fragment-3D-method -->
      
        <div id="hash-method" class="method-detail ">
          <a name="method-i-hash"></a>

          
          <div class="method-heading">
            <span class="method-name">hash</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            
            

            
            <div class="method-source-code" id="hash-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 1389</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">hash</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">component_ary</span>.<span class="ruby-identifier">hash</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- hash-source -->
            
          </div>

          

          
        </div><!-- hash-method -->
      
        <div id="hierarchical-3F-method" class="method-detail ">
          <a name="method-i-hierarchical-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">hierarchical?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Checks if <a href="../URI.html">URI</a> has a path</p>
            

            
            <div class="method-source-code" id="hierarchical-3F-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 947</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">hierarchical?</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@path</span>
    <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- hierarchical-3F-source -->
            
          </div>

          

          
        </div><!-- hierarchical-3F-method -->
      
        <div id="host-3D-method" class="method-detail ">
          <a name="method-i-host-3D"></a>

          
          <div class="method-heading">
            <span class="method-name">host=</span><span
              class="method-args">(v)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <h2 id="method-i-host-3D-label-Args">Args<span><a href="#method-i-host-3D-label-Args">&para;</a> <a href="#top">&uarr;</a></span></h2>
<dl class="rdoc-list note-list"><dt><code>v</code>
<dd>
<p>String</p>
</dd></dl>

<h2 id="method-i-host-3D-label-Description">Description<span><a href="#method-i-host-3D-label-Description">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>public setter for the host component <code>v</code>. (with validation)</p>

<p>see also URI::Generic.check_host</p>

<h2 id="method-i-host-3D-label-Usage">Usage<span><a href="#method-i-host-3D-label-Usage">&para;</a> <a href="#top">&uarr;</a></span></h2>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">'uri'</span>

<span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">&quot;http://my.example.com&quot;</span>)
<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">host</span> = <span class="ruby-string">&quot;foo.com&quot;</span>
<span class="ruby-comment"># =&gt;  &quot;foo.com&quot;</span>
<span class="ruby-identifier">uri</span>
<span class="ruby-comment">#=&gt; #&lt;URI::HTTP:0x000000008e89e8 URL:http://foo.com&gt;</span>
</pre>
            

            
            <div class="method-source-code" id="host-3D-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 633</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">host=</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">check_host</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">set_host</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">v</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- host-3D-source -->
            
          </div>

          

          
        </div><!-- host-3D-method -->
      
        <div id="hostname-method" class="method-detail ">
          <a name="method-i-hostname"></a>

          
          <div class="method-heading">
            <span class="method-name">hostname</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>extract the host part of the <a href="../URI.html">URI</a> and unwrap
brackets for IPv6 addresses.</p>

<p>This method is same as <a href="Generic.html#attribute-i-host">#host</a>
except brackets for IPv6 (and future IP) addresses are removed.</p>

<p>u = URI(“http://[::1]/bar”) p u.hostname      #=&gt; “::1” p u.host        
#=&gt; “[::1]”</p>
            

            
            <div class="method-source-code" id="hostname-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 648</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">hostname</span>
  <span class="ruby-identifier">v</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">host</span>
  <span class="ruby-regexp">/\A\[(.*)\]\z/</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">?</span> <span class="ruby-node">$1</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">v</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- hostname-source -->
            
          </div>

          

          
        </div><!-- hostname-method -->
      
        <div id="hostname-3D-method" class="method-detail ">
          <a name="method-i-hostname-3D"></a>

          
          <div class="method-heading">
            <span class="method-name">hostname=</span><span
              class="method-args">(v)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>set the host part of the <a href="../URI.html">URI</a> as the argument with
brackets for IPv6 addresses.</p>

<p>This method is same as <a href="Generic.html#method-i-host-3D">#host=</a>
except the argument can be bare IPv6 address.</p>

<p>u = URI(“<a href="http://foo/bar">foo/bar</a>”) p u.to_s                 
#=&gt; “<a href="http://foo/bar">foo/bar</a>” u.hostname = “::1” p u.to_s  
#=&gt; “<a href="http://[::1]/bar">[::1]/bar</a>”</p>

<p>If the argument seems IPv6 address, it is wrapped by brackets.</p>
            

            
            <div class="method-source-code" id="hostname-3D-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 666</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">hostname=</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">v</span> = <span class="ruby-node">&quot;[#{v}]&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-regexp">/\A\[.*\]\z/</span> <span class="ruby-operator">!~</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-regexp">/:/</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">v</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">host</span> = <span class="ruby-identifier">v</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- hostname-3D-source -->
            
          </div>

          

          
        </div><!-- hostname-3D-method -->
      
        <div id="inspect-method" class="method-detail ">
          <a name="method-i-inspect"></a>

          
          <div class="method-heading">
            <span class="method-name">inspect</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            
            

            
            <div class="method-source-code" id="inspect-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 1448</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">inspect</span>
  <span class="ruby-node">&quot;#&lt;#{self.class} #{self}&gt;&quot;</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- inspect-source -->
            
          </div>

          

          
        </div><!-- inspect-method -->
      
        <div id="merge-method" class="method-detail ">
          <a name="method-i-merge"></a>

          
          <div class="method-heading">
            <span class="method-name">merge</span><span
              class="method-args">(oth)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <h2 id="method-i-merge-label-Args">Args<span><a href="#method-i-merge-label-Args">&para;</a> <a href="#top">&uarr;</a></span></h2>
<dl class="rdoc-list note-list"><dt><code>oth</code>
<dd>
<p><a href="../URI.html">URI</a> or String</p>
</dd></dl>

<h2 id="method-i-merge-label-Description">Description<span><a href="#method-i-merge-label-Description">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Merges two URI’s.</p>

<h2 id="method-i-merge-label-Usage">Usage<span><a href="#method-i-merge-label-Usage">&para;</a> <a href="#top">&uarr;</a></span></h2>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">'uri'</span>

<span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">&quot;http://my.example.com&quot;</span>)
<span class="ruby-identifier">p</span> <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-string">&quot;/main.rbx?page=1&quot;</span>)
<span class="ruby-comment"># =&gt;  #&lt;URI::HTTP:0x2021f3b0 URL:http://my.example.com/main.rbx?page=1&gt;</span>
</pre>
            

            
            <div class="method-source-code" id="merge-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 1096</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">merge</span>(<span class="ruby-identifier">oth</span>)
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">base</span>, <span class="ruby-identifier">rel</span> = <span class="ruby-identifier">merge0</span>(<span class="ruby-identifier">oth</span>)
  <span class="ruby-keyword">rescue</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-identifier">$!</span>.<span class="ruby-identifier">class</span>, <span class="ruby-identifier">$!</span>.<span class="ruby-identifier">message</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">base</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">rel</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">base</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">authority</span> = <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">userinfo</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">host</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">port</span>

  <span class="ruby-comment"># RFC2396, Section 5.2, 2)</span>
  <span class="ruby-keyword">if</span> (<span class="ruby-identifier">rel</span>.<span class="ruby-identifier">path</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">path</span>.<span class="ruby-identifier">empty?</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">authority</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">rel</span>.<span class="ruby-identifier">query</span>
    <span class="ruby-identifier">base</span>.<span class="ruby-identifier">fragment</span>=(<span class="ruby-identifier">rel</span>.<span class="ruby-identifier">fragment</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">fragment</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">base</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">base</span>.<span class="ruby-identifier">query</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">base</span>.<span class="ruby-identifier">fragment</span>=(<span class="ruby-keyword">nil</span>)

  <span class="ruby-comment"># RFC2396, Section 5.2, 4)</span>
  <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">authority</span>
    <span class="ruby-identifier">base</span>.<span class="ruby-identifier">set_path</span>(<span class="ruby-identifier">merge_path</span>(<span class="ruby-identifier">base</span>.<span class="ruby-identifier">path</span>, <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">path</span>)) <span class="ruby-keyword">if</span> <span class="ruby-identifier">base</span>.<span class="ruby-identifier">path</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">path</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-comment"># RFC2396, Section 5.2, 4)</span>
    <span class="ruby-identifier">base</span>.<span class="ruby-identifier">set_path</span>(<span class="ruby-identifier">rel</span>.<span class="ruby-identifier">path</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">path</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-comment"># RFC2396, Section 5.2, 7)</span>
  <span class="ruby-identifier">base</span>.<span class="ruby-identifier">set_userinfo</span>(<span class="ruby-identifier">rel</span>.<span class="ruby-identifier">userinfo</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">userinfo</span>
  <span class="ruby-identifier">base</span>.<span class="ruby-identifier">set_host</span>(<span class="ruby-identifier">rel</span>.<span class="ruby-identifier">host</span>)         <span class="ruby-keyword">if</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">host</span>
  <span class="ruby-identifier">base</span>.<span class="ruby-identifier">set_port</span>(<span class="ruby-identifier">rel</span>.<span class="ruby-identifier">port</span>)         <span class="ruby-keyword">if</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">port</span>
  <span class="ruby-identifier">base</span>.<span class="ruby-identifier">query</span> = <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">query</span>       <span class="ruby-keyword">if</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">query</span>
  <span class="ruby-identifier">base</span>.<span class="ruby-identifier">fragment</span>=(<span class="ruby-identifier">rel</span>.<span class="ruby-identifier">fragment</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">fragment</span>

  <span class="ruby-keyword">return</span> <span class="ruby-identifier">base</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- merge-source -->
            
          </div>

          
          <div class="aliases">
            Also aliased as: <a href="Generic.html#method-i-2B">+</a>
          </div>
          

          
        </div><!-- merge-method -->
      
        <div id="merge-21-method" class="method-detail ">
          <a name="method-i-merge-21"></a>

          
          <div class="method-heading">
            <span class="method-name">merge!</span><span
              class="method-args">(oth)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <h2 id="method-i-merge-21-label-Args">Args<span><a href="#method-i-merge-21-label-Args">&para;</a> <a href="#top">&uarr;</a></span></h2>
<dl class="rdoc-list note-list"><dt><code>oth</code>
<dd>
<p><a href="../URI.html">URI</a> or String</p>
</dd></dl>

<h2 id="method-i-merge-21-label-Description">Description<span><a href="#method-i-merge-21-label-Description">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Destructive form of <a href="Generic.html#method-i-merge">merge</a></p>

<h2 id="method-i-merge-21-label-Usage">Usage<span><a href="#method-i-merge-21-label-Usage">&para;</a> <a href="#top">&uarr;</a></span></h2>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">'uri'</span>

<span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">&quot;http://my.example.com&quot;</span>)
<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-string">&quot;/main.rbx?page=1&quot;</span>)
<span class="ruby-identifier">p</span> <span class="ruby-identifier">uri</span>
<span class="ruby-comment"># =&gt;  #&lt;URI::HTTP:0x2021f3b0 URL:http://my.example.com/main.rbx?page=1&gt;</span>
</pre>
            

            
            <div class="method-source-code" id="merge-21-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 1068</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">merge!</span>(<span class="ruby-identifier">oth</span>)
  <span class="ruby-identifier">t</span> = <span class="ruby-identifier">merge</span>(<span class="ruby-identifier">oth</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">t</span>
    <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">replace!</span>(<span class="ruby-identifier">t</span>)
    <span class="ruby-keyword">self</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- merge-21-source -->
            
          </div>

          

          
        </div><!-- merge-21-method -->
      
        <div id="normalize-method" class="method-detail ">
          <a name="method-i-normalize"></a>

          
          <div class="method-heading">
            <span class="method-name">normalize</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Returns normalized <a href="../URI.html">URI</a></p>
            

            
            <div class="method-source-code" id="normalize-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 1317</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">normalize</span>
  <span class="ruby-identifier">uri</span> = <span class="ruby-identifier">dup</span>
  <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">normalize!</span>
  <span class="ruby-identifier">uri</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- normalize-source -->
            
          </div>

          

          
        </div><!-- normalize-method -->
      
        <div id="normalize-21-method" class="method-detail ">
          <a name="method-i-normalize-21"></a>

          
          <div class="method-heading">
            <span class="method-name">normalize!</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Destructive version of <a
href="Generic.html#method-i-normalize">normalize</a></p>
            

            
            <div class="method-source-code" id="normalize-21-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 1326</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">normalize!</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">path</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">path</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-identifier">set_path</span>(<span class="ruby-string">'/'</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">scheme</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">scheme</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">scheme</span>.<span class="ruby-identifier">downcase</span>
    <span class="ruby-identifier">set_scheme</span>(<span class="ruby-keyword">self</span>.<span class="ruby-identifier">scheme</span>.<span class="ruby-identifier">downcase</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">host</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">host</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">host</span>.<span class="ruby-identifier">downcase</span>
    <span class="ruby-identifier">set_host</span>(<span class="ruby-keyword">self</span>.<span class="ruby-identifier">host</span>.<span class="ruby-identifier">downcase</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- normalize-21-source -->
            
          </div>

          

          
        </div><!-- normalize-21-method -->
      
        <div id="opaque-3D-method" class="method-detail ">
          <a name="method-i-opaque-3D"></a>

          
          <div class="method-heading">
            <span class="method-name">opaque=</span><span
              class="method-args">(v)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <h2 id="method-i-opaque-3D-label-Args">Args<span><a href="#method-i-opaque-3D-label-Args">&para;</a> <a href="#top">&uarr;</a></span></h2>
<dl class="rdoc-list note-list"><dt><code>v</code>
<dd>
<p>String</p>
</dd></dl>

<h2 id="method-i-opaque-3D-label-Description">Description<span><a href="#method-i-opaque-3D-label-Description">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>public setter for the opaque component <code>v</code>. (with validation)</p>

<p>see also URI::Generic.check_opaque</p>
            

            
            <div class="method-source-code" id="opaque-3D-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 901</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">opaque=</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">check_opaque</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">set_opaque</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">v</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- opaque-3D-source -->
            
          </div>

          

          
        </div><!-- opaque-3D-method -->
      
        <div id="parser-method" class="method-detail ">
          <a name="method-i-parser"></a>

          
          <div class="method-heading">
            <span class="method-name">parser</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>returns the parser to be used.</p>

<p>Unless a URI::Parser is defined, then DEFAULT_PARSER is used.</p>
            

            
            <div class="method-source-code" id="parser-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 286</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">parser</span>
  <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-keyword">defined?</span>(<span class="ruby-ivar">@parser</span>) <span class="ruby-operator">||</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@parser</span>
    <span class="ruby-constant">DEFAULT_PARSER</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@parser</span> <span class="ruby-operator">||</span> <span class="ruby-constant">DEFAULT_PARSER</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- parser-source -->
            
          </div>

          

          
        </div><!-- parser-method -->
      
        <div id="password-method" class="method-detail ">
          <a name="method-i-password"></a>

          
          <div class="method-heading">
            <span class="method-name">password</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>returns the password component</p>
            

            
            <div class="method-source-code" id="password-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 575</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">password</span>
  <span class="ruby-ivar">@password</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- password-source -->
            
          </div>

          

          
        </div><!-- password-method -->
      
        <div id="password-3D-method" class="method-detail ">
          <a name="method-i-password-3D"></a>

          
          <div class="method-heading">
            <span class="method-name">password=</span><span
              class="method-args">(password)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <h2 id="method-i-password-3D-label-Args">Args<span><a href="#method-i-password-3D-label-Args">&para;</a> <a href="#top">&uarr;</a></span></h2>
<dl class="rdoc-list note-list"><dt><code>v</code>
<dd>
<p>String</p>
</dd></dl>

<h2 id="method-i-password-3D-label-Description">Description<span><a href="#method-i-password-3D-label-Description">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>public setter for the <code>password</code> component. (with validation)</p>

<p>see also URI::Generic.check_password</p>

<h2 id="method-i-password-3D-label-Usage">Usage<span><a href="#method-i-password-3D-label-Usage">&para;</a> <a href="#top">&uarr;</a></span></h2>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">'uri'</span>

<span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">&quot;http://john:S3nsit1ve@my.example.com&quot;</span>)
<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">password</span> = <span class="ruby-string">&quot;V3ry_S3nsit1ve&quot;</span>
<span class="ruby-comment"># =&gt;  &quot;V3ry_S3nsit1ve&quot;</span>
<span class="ruby-identifier">uri</span>
<span class="ruby-comment">#=&gt; #&lt;URI::HTTP:0x00000000881d90 URL:http://john:V3ry_S3nsit1ve@my.example.com&gt;</span>
</pre>
            

            
            <div class="method-source-code" id="password-3D-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 500</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">password=</span>(<span class="ruby-identifier">password</span>)
  <span class="ruby-identifier">check_password</span>(<span class="ruby-identifier">password</span>)
  <span class="ruby-identifier">set_password</span>(<span class="ruby-identifier">password</span>)
  <span class="ruby-comment"># returns password</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- password-3D-source -->
            
          </div>

          

          
        </div><!-- password-3D-method -->
      
        <div id="path-3D-method" class="method-detail ">
          <a name="method-i-path-3D"></a>

          
          <div class="method-heading">
            <span class="method-name">path=</span><span
              class="method-args">(v)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <h2 id="method-i-path-3D-label-Args">Args<span><a href="#method-i-path-3D-label-Args">&para;</a> <a href="#top">&uarr;</a></span></h2>
<dl class="rdoc-list note-list"><dt><code>v</code>
<dd>
<p>String</p>
</dd></dl>

<h2 id="method-i-path-3D-label-Description">Description<span><a href="#method-i-path-3D-label-Description">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>public setter for the path component <code>v</code>. (with validation)</p>

<p>see also URI::Generic.check_path</p>

<h2 id="method-i-path-3D-label-Usage">Usage<span><a href="#method-i-path-3D-label-Usage">&para;</a> <a href="#top">&uarr;</a></span></h2>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">'uri'</span>

<span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">&quot;http://my.example.com/pub/files&quot;</span>)
<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">path</span> = <span class="ruby-string">&quot;/faq/&quot;</span>
<span class="ruby-comment"># =&gt;  &quot;/faq/&quot;</span>
<span class="ruby-identifier">uri</span>
<span class="ruby-comment">#=&gt; #&lt;URI::HTTP:0x000000008e89e8 URL:http://my.example.com/faq/&gt;</span>
</pre>
            

            
            <div class="method-source-code" id="path-3D-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 814</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">path=</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">check_path</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">set_path</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">v</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- path-3D-source -->
            
          </div>

          

          
        </div><!-- path-3D-method -->
      
        <div id="port-3D-method" class="method-detail ">
          <a name="method-i-port-3D"></a>

          
          <div class="method-heading">
            <span class="method-name">port=</span><span
              class="method-args">(v)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <h2 id="method-i-port-3D-label-Args">Args<span><a href="#method-i-port-3D-label-Args">&para;</a> <a href="#top">&uarr;</a></span></h2>
<dl class="rdoc-list note-list"><dt><code>v</code>
<dd>
<p>String</p>
</dd></dl>

<h2 id="method-i-port-3D-label-Description">Description<span><a href="#method-i-port-3D-label-Description">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>public setter for the port component <code>v</code>. (with validation)</p>

<p>see also URI::Generic.check_port</p>

<h2 id="method-i-port-3D-label-Usage">Usage<span><a href="#method-i-port-3D-label-Usage">&para;</a> <a href="#top">&uarr;</a></span></h2>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">'uri'</span>

<span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">&quot;http://my.example.com&quot;</span>)
<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">port</span> = <span class="ruby-value">8080</span>
<span class="ruby-comment"># =&gt;  8080</span>
<span class="ruby-identifier">uri</span>
<span class="ruby-comment">#=&gt; #&lt;URI::HTTP:0x000000008e89e8 URL:http://my.example.com:8080&gt;</span>
</pre>
            

            
            <div class="method-source-code" id="port-3D-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 726</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">port=</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">check_port</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">set_port</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">port</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- port-3D-source -->
            
          </div>

          

          
        </div><!-- port-3D-method -->
      
        <div id="query-3D-method" class="method-detail ">
          <a name="method-i-query-3D"></a>

          
          <div class="method-heading">
            <span class="method-name">query=</span><span
              class="method-args">(v)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <h2 id="method-i-query-3D-label-Args">Args<span><a href="#method-i-query-3D-label-Args">&para;</a> <a href="#top">&uarr;</a></span></h2>
<dl class="rdoc-list note-list"><dt><code>v</code>
<dd>
<p>String</p>
</dd></dl>

<h2 id="method-i-query-3D-label-Description">Description<span><a href="#method-i-query-3D-label-Description">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>public setter for the query component <code>v</code>.</p>

<h2 id="method-i-query-3D-label-Usage">Usage<span><a href="#method-i-query-3D-label-Usage">&para;</a> <a href="#top">&uarr;</a></span></h2>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">'uri'</span>

<span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">&quot;http://my.example.com/?id=25&quot;</span>)
<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">query</span> = <span class="ruby-string">&quot;id=1&quot;</span>
<span class="ruby-comment"># =&gt;  &quot;id=1&quot;</span>
<span class="ruby-identifier">uri</span>
<span class="ruby-comment">#=&gt; #&lt;URI::HTTP:0x000000008e89e8 URL:http://my.example.com/?id=1&gt;</span>
</pre>
            

            
            <div class="method-source-code" id="query-3D-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 840</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">query=</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-ivar">@query</span> = <span class="ruby-keyword">nil</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">v</span>
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidURIError</span>, <span class="ruby-string">&quot;query conflicts with opaque&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@opaque</span>

  <span class="ruby-identifier">x</span> = <span class="ruby-identifier">v</span>.<span class="ruby-identifier">to_str</span>
  <span class="ruby-identifier">v</span> = <span class="ruby-identifier">x</span>.<span class="ruby-identifier">dup</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">equal?</span> <span class="ruby-identifier">v</span>
  <span class="ruby-identifier">v</span>.<span class="ruby-identifier">encode!</span>(<span class="ruby-constant">Encoding</span><span class="ruby-operator">::</span><span class="ruby-constant">UTF_8</span>) <span class="ruby-keyword">rescue</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">v</span>.<span class="ruby-identifier">delete!</span>(<span class="ruby-string">&quot;\t\r\n&quot;</span>.<span class="ruby-identifier">freeze</span>)
  <span class="ruby-identifier">v</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-constant">Encoding</span><span class="ruby-operator">::</span><span class="ruby-constant">ASCII_8BIT</span>)
  <span class="ruby-identifier">v</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-regexp">/(?!%\h\h|[!$-&amp;(-;=?-_a-~])./n</span>.<span class="ruby-identifier">freeze</span>){<span class="ruby-string">'%%%02X'</span>.<span class="ruby-identifier">freeze</span> <span class="ruby-operator">%</span> <span class="ruby-node">$&amp;</span>.<span class="ruby-identifier">ord</span>}
  <span class="ruby-identifier">v</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-constant">Encoding</span><span class="ruby-operator">::</span><span class="ruby-constant">US_ASCII</span>)
  <span class="ruby-ivar">@query</span> = <span class="ruby-identifier">v</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- query-3D-source -->
            
          </div>

          

          
        </div><!-- query-3D-method -->
      
        <div id="registry-3D-method" class="method-detail ">
          <a name="method-i-registry-3D"></a>

          
          <div class="method-heading">
            <span class="method-name">registry=</span><span
              class="method-args">(v)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            
            

            
            <div class="method-source-code" id="registry-3D-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 742</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">registry=</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidURIError</span>, <span class="ruby-string">&quot;can not set registry&quot;</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- registry-3D-source -->
            
          </div>

          

          
        </div><!-- registry-3D-method -->
      
        <div id="relative-3F-method" class="method-detail ">
          <a name="method-i-relative-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">relative?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Checks if <a href="../URI.html">URI</a> is relative</p>
            

            
            <div class="method-source-code" id="relative-3F-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 970</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">relative?</span>
  <span class="ruby-operator">!</span><span class="ruby-identifier">absolute?</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- relative-3F-source -->
            
          </div>

          

          
        </div><!-- relative-3F-method -->
      
        <div id="route_from-method" class="method-detail ">
          <a name="method-i-route_from"></a>

          
          <div class="method-heading">
            <span class="method-name">route_from</span><span
              class="method-args">(oth)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <h2 id="method-i-route_from-label-Args">Args<span><a href="#method-i-route_from-label-Args">&para;</a> <a href="#top">&uarr;</a></span></h2>
<dl class="rdoc-list note-list"><dt><code>oth</code>
<dd>
<p><a href="../URI.html">URI</a> or String</p>
</dd></dl>

<h2 id="method-i-route_from-label-Description">Description<span><a href="#method-i-route_from-label-Description">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Calculates relative path from oth to self</p>

<h2 id="method-i-route_from-label-Usage">Usage<span><a href="#method-i-route_from-label-Usage">&para;</a> <a href="#top">&uarr;</a></span></h2>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">'uri'</span>

<span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">'http://my.example.com/main.rbx?page=1'</span>)
<span class="ruby-identifier">p</span> <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">route_from</span>(<span class="ruby-string">'http://my.example.com'</span>)
<span class="ruby-comment">#=&gt; #&lt;URI::Generic:0x20218858 URL:/main.rbx?page=1&gt;</span>
</pre>
            

            
            <div class="method-source-code" id="route_from-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 1270</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">route_from</span>(<span class="ruby-identifier">oth</span>)
  <span class="ruby-comment"># you can modify `rel', but can not `oth'.</span>
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">oth</span>, <span class="ruby-identifier">rel</span> = <span class="ruby-identifier">route_from0</span>(<span class="ruby-identifier">oth</span>)
  <span class="ruby-keyword">rescue</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-identifier">$!</span>.<span class="ruby-identifier">class</span>, <span class="ruby-identifier">$!</span>.<span class="ruby-identifier">message</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">oth</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">rel</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">rel</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">set_path</span>(<span class="ruby-identifier">route_from_path</span>(<span class="ruby-identifier">oth</span>.<span class="ruby-identifier">path</span>, <span class="ruby-keyword">self</span>.<span class="ruby-identifier">path</span>))
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">path</span> <span class="ruby-operator">==</span> <span class="ruby-string">'./'</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">query</span>
    <span class="ruby-comment"># &quot;./?foo&quot; -&gt; &quot;?foo&quot;</span>
    <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">set_path</span>(<span class="ruby-string">''</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">return</span> <span class="ruby-identifier">rel</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- route_from-source -->
            
          </div>

          
          <div class="aliases">
            Also aliased as: <a href="Generic.html#method-i-2D">-</a>
          </div>
          

          
        </div><!-- route_from-method -->
      
        <div id="route_to-method" class="method-detail ">
          <a name="method-i-route_to"></a>

          
          <div class="method-heading">
            <span class="method-name">route_to</span><span
              class="method-args">(oth)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <h2 id="method-i-route_to-label-Args">Args<span><a href="#method-i-route_to-label-Args">&para;</a> <a href="#top">&uarr;</a></span></h2>
<dl class="rdoc-list note-list"><dt><code>oth</code>
<dd>
<p><a href="../URI.html">URI</a> or String</p>
</dd></dl>

<h2 id="method-i-route_to-label-Description">Description<span><a href="#method-i-route_to-label-Description">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Calculates relative path to oth from self</p>

<h2 id="method-i-route_to-label-Usage">Usage<span><a href="#method-i-route_to-label-Usage">&para;</a> <a href="#top">&uarr;</a></span></h2>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">'uri'</span>

<span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">'http://my.example.com'</span>)
<span class="ruby-identifier">p</span> <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">route_to</span>(<span class="ruby-string">'http://my.example.com/main.rbx?page=1'</span>)
<span class="ruby-comment">#=&gt; #&lt;URI::Generic:0x2020c2f6 URL:/main.rbx?page=1&gt;</span>
</pre>
            

            
            <div class="method-source-code" id="route_to-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 1310</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">route_to</span>(<span class="ruby-identifier">oth</span>)
  <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:convert_to_uri</span>, <span class="ruby-identifier">oth</span>).<span class="ruby-identifier">route_from</span>(<span class="ruby-keyword">self</span>)
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- route_to-source -->
            
          </div>

          

          
        </div><!-- route_to-method -->
      
        <div id="scheme-3D-method" class="method-detail ">
          <a name="method-i-scheme-3D"></a>

          
          <div class="method-heading">
            <span class="method-name">scheme=</span><span
              class="method-args">(v)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <h2 id="method-i-scheme-3D-label-Args">Args<span><a href="#method-i-scheme-3D-label-Args">&para;</a> <a href="#top">&uarr;</a></span></h2>
<dl class="rdoc-list note-list"><dt><code>v</code>
<dd>
<p>String</p>
</dd></dl>

<h2 id="method-i-scheme-3D-label-Description">Description<span><a href="#method-i-scheme-3D-label-Description">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>public setter for the scheme component <code>v</code>. (with validation)</p>

<p>see also URI::Generic.check_scheme</p>

<h2 id="method-i-scheme-3D-label-Usage">Usage<span><a href="#method-i-scheme-3D-label-Usage">&para;</a> <a href="#top">&uarr;</a></span></h2>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">'uri'</span>

<span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">&quot;http://my.example.com&quot;</span>)
<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">scheme</span> = <span class="ruby-string">&quot;https&quot;</span>
<span class="ruby-comment"># =&gt;  &quot;https&quot;</span>
<span class="ruby-identifier">uri</span>
<span class="ruby-comment">#=&gt; #&lt;URI::HTTP:0x000000008e89e8 URL:https://my.example.com&gt;</span>
</pre>
            

            
            <div class="method-source-code" id="scheme-3D-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 358</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">scheme=</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">check_scheme</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">set_scheme</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">v</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- scheme-3D-source -->
            
          </div>

          

          
        </div><!-- scheme-3D-method -->
      
        <div id="select-method" class="method-detail ">
          <a name="method-i-select"></a>

          
          <div class="method-heading">
            <span class="method-name">select</span><span
              class="method-args">(*components)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <h2 id="method-i-select-label-Args">Args<span><a href="#method-i-select-label-Args">&para;</a> <a href="#top">&uarr;</a></span></h2>
<dl class="rdoc-list note-list"><dt><code>components</code>
<dd>
<p>Multiple Symbol arguments defined in <a href="HTTP.html">URI::HTTP</a></p>
</dd></dl>

<h2 id="method-i-select-label-Description">Description<span><a href="#method-i-select-label-Description">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Selects specified components from <a href="../URI.html">URI</a></p>

<h2 id="method-i-select-label-Usage">Usage<span><a href="#method-i-select-label-Usage">&para;</a> <a href="#top">&uarr;</a></span></h2>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">'uri'</span>

<span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">'http://myuser:mypass@my.example.com/test.rbx'</span>)
<span class="ruby-identifier">p</span> <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">select</span>(:<span class="ruby-identifier">userinfo</span>, :<span class="ruby-identifier">host</span>, :<span class="ruby-identifier">path</span>)
<span class="ruby-comment"># =&gt; [&quot;myuser:mypass&quot;, &quot;my.example.com&quot;, &quot;/test.rbx&quot;]</span>
</pre>
            

            
            <div class="method-source-code" id="select-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 1437</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">select</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">components</span>)
  <span class="ruby-identifier">components</span>.<span class="ruby-identifier">collect</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">component</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">c</span>)
      <span class="ruby-keyword">self</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">c</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>,
        <span class="ruby-node">&quot;expected of components of #{self.class} (#{self.class.component.join(', ')})&quot;</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- select-source -->
            
          </div>

          

          
        </div><!-- select-method -->
      
        <div id="to_s-method" class="method-detail ">
          <a name="method-i-to_s"></a>

          
          <div class="method-heading">
            <span class="method-name">to_s</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Constructs String from <a href="../URI.html">URI</a></p>
            

            
            <div class="method-source-code" id="to_s-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 1341</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">to_s</span>
  <span class="ruby-identifier">str</span> = <span class="ruby-string">''</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@scheme</span>
    <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@scheme</span>
    <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">':'</span>.<span class="ruby-identifier">freeze</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@opaque</span>
    <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@opaque</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">if</span> <span class="ruby-ivar">@host</span>
      <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">'//'</span>.<span class="ruby-identifier">freeze</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">userinfo</span>
      <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">userinfo</span>
      <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">'@'</span>.<span class="ruby-identifier">freeze</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">if</span> <span class="ruby-ivar">@host</span>
      <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@host</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">if</span> <span class="ruby-ivar">@port</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@port</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">default_port</span>
      <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">':'</span>.<span class="ruby-identifier">freeze</span>
      <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@port</span>.<span class="ruby-identifier">to_s</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@path</span>
    <span class="ruby-keyword">if</span> <span class="ruby-ivar">@query</span>
      <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">'?'</span>.<span class="ruby-identifier">freeze</span>
      <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@query</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@fragment</span>
    <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">'#'</span>.<span class="ruby-identifier">freeze</span>
    <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@fragment</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">str</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- to_s-source -->
            
          </div>

          

          
        </div><!-- to_s-method -->
      
        <div id="user-method" class="method-detail ">
          <a name="method-i-user"></a>

          
          <div class="method-heading">
            <span class="method-name">user</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>returns the user component</p>
            

            
            <div class="method-source-code" id="user-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 570</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">user</span>
  <span class="ruby-ivar">@user</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- user-source -->
            
          </div>

          

          
        </div><!-- user-method -->
      
        <div id="user-3D-method" class="method-detail ">
          <a name="method-i-user-3D"></a>

          
          <div class="method-heading">
            <span class="method-name">user=</span><span
              class="method-args">(user)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <h2 id="method-i-user-3D-label-Args">Args<span><a href="#method-i-user-3D-label-Args">&para;</a> <a href="#top">&uarr;</a></span></h2>
<dl class="rdoc-list note-list"><dt><code>v</code>
<dd>
<p>String</p>
</dd></dl>

<h2 id="method-i-user-3D-label-Description">Description<span><a href="#method-i-user-3D-label-Description">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>public setter for the <code>user</code> component. (with validation)</p>

<p>see also URI::Generic.check_user</p>

<h2 id="method-i-user-3D-label-Usage">Usage<span><a href="#method-i-user-3D-label-Usage">&para;</a> <a href="#top">&uarr;</a></span></h2>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">'uri'</span>

<span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">&quot;http://john:S3nsit1ve@my.example.com&quot;</span>)
<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">user</span> = <span class="ruby-string">&quot;sam&quot;</span>
<span class="ruby-comment"># =&gt;  &quot;sam&quot;</span>
<span class="ruby-identifier">uri</span>
<span class="ruby-comment">#=&gt; #&lt;URI::HTTP:0x00000000881d90 URL:http://sam:V3ry_S3nsit1ve@my.example.com&gt;</span>
</pre>
            

            
            <div class="method-source-code" id="user-3D-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 471</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">user=</span>(<span class="ruby-identifier">user</span>)
  <span class="ruby-identifier">check_user</span>(<span class="ruby-identifier">user</span>)
  <span class="ruby-identifier">set_user</span>(<span class="ruby-identifier">user</span>)
  <span class="ruby-comment"># returns user</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- user-3D-source -->
            
          </div>

          

          
        </div><!-- user-3D-method -->
      
        <div id="userinfo-method" class="method-detail ">
          <a name="method-i-userinfo"></a>

          
          <div class="method-heading">
            <span class="method-name">userinfo</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>returns the userinfo, either as ‘user’ or ‘user:password’</p>
            

            
            <div class="method-source-code" id="userinfo-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 559</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">userinfo</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@user</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-ivar">@password</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-ivar">@user</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@user</span> <span class="ruby-operator">+</span> <span class="ruby-string">':'</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@password</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- userinfo-source -->
            
          </div>

          

          
        </div><!-- userinfo-method -->
      
        <div id="userinfo-3D-method" class="method-detail ">
          <a name="method-i-userinfo-3D"></a>

          
          <div class="method-heading">
            <span class="method-name">userinfo=</span><span
              class="method-args">(userinfo)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Sets userinfo, argument is string like ‘name:pass’</p>
            

            
            <div class="method-source-code" id="userinfo-3D-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 439</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">userinfo=</span>(<span class="ruby-identifier">userinfo</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">userinfo</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">check_userinfo</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">userinfo</span>)
  <span class="ruby-identifier">set_userinfo</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">userinfo</span>)
  <span class="ruby-comment"># returns userinfo</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- userinfo-3D-source -->
            
          </div>

          

          
        </div><!-- userinfo-3D-method -->
      
      </div><!-- public-instance-method-details -->
    
      <div id="protected-instance-method-details" class="method-section section">
        <h3 class="section-header">Protected Instance Methods</h3>

      
        <div id="component_ary-method" class="method-detail ">
          <a name="method-i-component_ary"></a>

          
          <div class="method-heading">
            <span class="method-name">component_ary</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>returns an Array of the components defined from the <a
href="Generic.html#COMPONENT">COMPONENT</a> Array</p>
            

            
            <div class="method-source-code" id="component_ary-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 1413</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">component_ary</span>
  <span class="ruby-identifier">component</span>.<span class="ruby-identifier">collect</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">x</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- component_ary-source -->
            
          </div>

          

          
        </div><!-- component_ary-method -->
      
        <div id="set_host-method" class="method-detail ">
          <a name="method-i-set_host"></a>

          
          <div class="method-heading">
            <span class="method-name">set_host</span><span
              class="method-args">(v)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>protected setter for the host component <code>v</code></p>

<p>see also <a href="Generic.html#method-i-host-3D">#host=</a></p>
            

            
            <div class="method-source-code" id="set_host-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 605</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">set_host</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-ivar">@host</span> = <span class="ruby-identifier">v</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- set_host-source -->
            
          </div>

          

          
        </div><!-- set_host-method -->
      
        <div id="set_opaque-method" class="method-detail ">
          <a name="method-i-set_opaque"></a>

          
          <div class="method-heading">
            <span class="method-name">set_opaque</span><span
              class="method-args">(v)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>protected setter for the opaque component <code>v</code></p>

<p>see also <a href="Generic.html#method-i-opaque-3D">#opaque=</a></p>
            

            
            <div class="method-source-code" id="set_opaque-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 883</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">set_opaque</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-ivar">@opaque</span> = <span class="ruby-identifier">v</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- set_opaque-source -->
            
          </div>

          

          
        </div><!-- set_opaque-method -->
      
        <div id="set_password-method" class="method-detail ">
          <a name="method-i-set_password"></a>

          
          <div class="method-heading">
            <span class="method-name">set_password</span><span
              class="method-args">(v)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>protected setter for the password component <code>v</code></p>

<p>see also <a href="Generic.html#method-i-password-3D">#password=</a></p>
            

            
            <div class="method-source-code" id="set_password-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 536</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">set_password</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-ivar">@password</span> = <span class="ruby-identifier">v</span>
  <span class="ruby-comment"># returns v</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- set_password-source -->
            
          </div>

          

          
        </div><!-- set_password-method -->
      
        <div id="set_path-method" class="method-detail ">
          <a name="method-i-set_path"></a>

          
          <div class="method-heading">
            <span class="method-name">set_path</span><span
              class="method-args">(v)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>protected setter for the path component <code>v</code></p>

<p>see also <a href="Generic.html#method-i-path-3D">#path=</a></p>
            

            
            <div class="method-source-code" id="set_path-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 786</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">set_path</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-ivar">@path</span> = <span class="ruby-identifier">v</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- set_path-source -->
            
          </div>

          

          
        </div><!-- set_path-method -->
      
        <div id="set_port-method" class="method-detail ">
          <a name="method-i-set_port"></a>

          
          <div class="method-heading">
            <span class="method-name">set_port</span><span
              class="method-args">(v)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>protected setter for the port component <code>v</code></p>

<p>see also <a href="Generic.html#method-i-port-3D">#port=</a></p>
            

            
            <div class="method-source-code" id="set_port-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 697</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">set_port</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">v</span> = <span class="ruby-identifier">v</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-operator">?</span> <span class="ruby-keyword">nil</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-keyword">unless</span> <span class="ruby-operator">!</span><span class="ruby-identifier">v</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Fixnum</span>)
  <span class="ruby-ivar">@port</span> = <span class="ruby-identifier">v</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- set_port-source -->
            
          </div>

          

          
        </div><!-- set_port-method -->
      
        <div id="set_scheme-method" class="method-detail ">
          <a name="method-i-set_scheme"></a>

          
          <div class="method-heading">
            <span class="method-name">set_scheme</span><span
              class="method-args">(v)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>protected setter for the scheme component <code>v</code></p>

<p>see also <a href="Generic.html#method-i-scheme-3D">#scheme=</a></p>
            

            
            <div class="method-source-code" id="set_scheme-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 330</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">set_scheme</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-ivar">@scheme</span> = <span class="ruby-identifier">v</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">downcase</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">v</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- set_scheme-source -->
            
          </div>

          

          
        </div><!-- set_scheme-method -->
      
        <div id="set_user-method" class="method-detail ">
          <a name="method-i-set_user"></a>

          
          <div class="method-heading">
            <span class="method-name">set_user</span><span
              class="method-args">(v)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>protected setter for the user component <code>v</code></p>

<p>see also <a href="Generic.html#method-i-user-3D">#user=</a></p>
            

            
            <div class="method-source-code" id="set_user-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 526</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">set_user</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">set_userinfo</span>(<span class="ruby-identifier">v</span>, <span class="ruby-ivar">@password</span>)
  <span class="ruby-identifier">v</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- set_user-source -->
            
          </div>

          

          
        </div><!-- set_user-method -->
      
        <div id="set_userinfo-method" class="method-detail ">
          <a name="method-i-set_userinfo"></a>

          
          <div class="method-heading">
            <span class="method-name">set_userinfo</span><span
              class="method-args">(user, password = nil)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>protect setter for the <code>user</code> component, and
<code>password</code> if available. (with validation)</p>

<p>see also <a href="Generic.html#method-i-userinfo-3D">#userinfo=</a></p>
            

            
            <div class="method-source-code" id="set_userinfo-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 511</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">set_userinfo</span>(<span class="ruby-identifier">user</span>, <span class="ruby-identifier">password</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">password</span>
    <span class="ruby-identifier">user</span>, <span class="ruby-identifier">password</span> = <span class="ruby-identifier">split_userinfo</span>(<span class="ruby-identifier">user</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-ivar">@user</span>     = <span class="ruby-identifier">user</span>
  <span class="ruby-ivar">@password</span> = <span class="ruby-identifier">password</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">password</span>

  [<span class="ruby-ivar">@user</span>, <span class="ruby-ivar">@password</span>]
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- set_userinfo-source -->
            
          </div>

          

          
        </div><!-- set_userinfo-method -->
      
      </div><!-- protected-instance-method-details -->
    
    </div><!-- 5Buntitled-5D -->
  
  <div id='tx_Generic_versioned' class='associated_wrapper'></div><script type='text/javascript'>$("#tx_Generic_versioned").load("/associated/2_2_3/Generic.html");</script> <div id='tx_Generic' class='associated_wrapper'></div><script type='text/javascript'>$("#tx_Generic").load("/associated/Generic.html");</script> 
      
  <!-- disqus ? -->
   <div class='info'>
  <p>Commenting is here to help enhance the documentation.  For example, code samples, or clarification of the documentation.</p>
  <p>If you have questions about Ruby or the documentation, please post to one of the <a href='http://www.ruby-lang.org/en/community/mailing-lists/'>Ruby mailing lists</a>.  You will get better, faster, help that way.</p>
  <p>If you wish to post a correction of the docs, please do so, but also <a href='http://bugs.ruby-lang.org' >file bug report</a> so that it can be corrected for the next release. Thank you.</p>
  <p>If you want to help improve the Ruby documentation, please visit <a href='http://documenting-ruby.org/'>Documenting-ruby.org</a>.</p> 
    </div>


  
  </div><!-- documentation -->
  <div id='dynamic'>
  </div>
      
        <div id="disqus_thread"></div>
  <script type="text/javascript">
     function setDisqusUrl(){
      var _loc = window.location.href;
      disqus_url = _loc.split("?")[0];
    }

     var disqus_url;
     
    
     setDisqusUrl();
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    // var disqus_shortname = 'rubydocbeta'; // required 
    var disqus_shortname = 'ruby-doc'; // required 


    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

      
<div class='grids wrapper' id="footer">
  <p><small>This page was generated for Ruby 2_2_3</small></p> 
  
   <p><a href="http://ruby-doc.org">Ruby-doc.org</a> is a service of <a href="http://jamesbritt.com">James Britt</a> and <a href="http://neurogami.com">Neurogami</a>, a <a href="http://neurogami.com">software development company in Scottsdale, AZ</a>.</p>
 
    <p><small>Generated with Ruby-doc Rdoc Generator 0.33.0</small>.</p>
  </div>
</div>
  
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-335317-2', 'auto');
  ga('send', 'pageview');

</script>


    
 <script type='text/javascript'>
$(document).ready(function() {
      $.ajaxSetup({ cache: false });
      $("#vulns-alert").load("/associated/vulns.html");
    });

    </script>


 
		<script type='text/javascript'>

	function loadPlus(plusdocs){
//		var img_h = $("img.carbonad-image").css('height');
		//if(img_h != undefined) { //---
			$(plusdocs).find("div[class='associated_wrapper']").each (function() {
					$("#" + this.id).append($(plusdocs).find("#" + this.id ));
					});
		//} // ---
	} // end loadPlusdocs

   function loadInline(json){
    for (var lookFor in json) {
      $(lookFor).after(json[lookFor]);
     }
  } // end loadPlusdocs


$(document).ready(function() {
		$.ajaxSetup({ cache: false });
			$.get('/associated/2_2_3/plus_Generic.html', 
			function(plusdocs) {
			setTimeout(function() {
				loadPlus(plusdocs);
				}, 2000);
			}
			);


    $.ajax({
    dataType: "json",
     url: '/associated/2_2_3/inline_Generic.js',
     success: function(json) {
			setTimeout(function() {
				loadInline(json);
				}, 2000);
			}
   });

		});
</script>
		
</body>
</html>


